{"version":3,"sources":["components/Input.js","components/Notification.js","services/Constants.js","pages/signIn/index.js","services/Helper.js","pages/search/index.js","Router.js","App.js","index.js"],"names":["Input","focus","onChange","onKeyDown","placeholder","type","value","name","classname","checked","inputRef","useRef","useEffect","current","ref","className","classNames","e","target","key","defaultProps","memo","Notification","message","time","ADMINS","CRUD_ADMIN","READONLY_ADMIN","NOTIFICATIONS_TYPE","SignIn","history","useHistory","useState","inputValue","setInputValue","errorMsg","setErrorMsg","showNotification","setShowNotification","setTimeout","handleSubmit","allowAdminsRoles","Object","entries","map","indexOf","localStorage","adminRole","trim","push","active","Boolean","onClick","Search","users","setUsers","usePreviousSort","setUsePreviousSort","fetchUsers","fetch","then","response","json","sortBy","length","handleSortUsers","handleChange","filteredUsers","filter","user","lastname","toLowerCase","sort","a","b","id","for","index","country","selected","Router","exact","path","render","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b03f0bf.chunk.js","sourcesContent":["import React, { useEffect, useRef, memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nconst Input = ({\r\n\tfocus,\r\n\tonChange,\r\n\tonKeyDown,\r\n\tplaceholder,\r\n\ttype,\r\n\tvalue,\r\n\tname,\r\n\tclassname,\r\n\tchecked\r\n}) => {\r\n\tconst inputRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfocus && inputRef.current.focus();\r\n\t});\r\n\r\n\tconst handleOnchange = (e) => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnKeyDown = (e) => {\r\n\t\tif (e.key !== 'Enter') return\r\n\t\tonKeyDown();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<input\r\n\t\t\tref={inputRef}\r\n\t\t\tclassName={classNames(type ? `${type}-input` : null, classname)}\r\n\t\t\tonChange={handleOnchange}\r\n\t\t\tonKeyDown={handleOnKeyDown}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\ttype={type}\r\n\t\t\tname={name}\r\n\t\t\tvalue={value}\r\n\t\t\tchecked={checked}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nInput.defaultProps = {\r\n\tclassname: '',\r\n\ttype: 'text',\r\n\tname: '',\r\n\tchecked: false,\r\n};\r\n\r\nInput.propTypes = {\r\n\tfocus: PropTypes.bool,\r\n\tonChange: PropTypes.func,\r\n\tonKeyDown: PropTypes.func,\r\n\tplaceholder: PropTypes.string,\r\n\ttype: PropTypes.string,\r\n\tvalue: PropTypes.string,\r\n\tname: PropTypes.string,\r\n\tclassname: PropTypes.string,\r\n\tchecked: PropTypes.bool,\r\n};\r\n\r\nexport default memo(Input);\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nconst Notification = ({ message, type, }) => {\r\n\treturn (\r\n\t\t<div className=\"notification\">\r\n\t\t\t<div className={classNames('content', `content-${type}`)}>\r\n\t\t\t\t<div className=\"text\">{message}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nNotification.defaultProps = {\r\n\ttime: 3000,\r\n};\r\n\r\nNotification.propTypes = {\r\n\tmessage: PropTypes.string.isRequired,\r\n\ttype: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default memo(Notification);\r\n","export const ADMINS = {\r\n\tCRUD_ADMIN: 'crudadmin',\r\n\tREADONLY_ADMIN: 'readonlyadmin',\r\n}\r\n\r\nexport const MIN_LENGTH_FOR_SEARCH = 2;\r\n\r\nexport const NOTIFICATIONS_TYPE = {\r\n\tSUCCESS: 'success',\r\n\tERROR: 'error'\r\n}\r\n","import React, { memo, useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport Input from '../../components/Input';\r\nimport Notification from '../../components/Notification';\r\nimport { getAllowAdminsRoles } from '../../services/Helper';\r\nimport { NOTIFICATIONS_TYPE } from '../../services/Constants';\r\n\r\nconst SignIn = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [inputValue, setInputValue] = useState('');\r\n\tconst [errorMsg, setErrorMsg] = useState('');\r\n\tconst [showNotification, setShowNotification] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!errorMsg) return;\r\n\t\tsetShowNotification(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShowNotification(false);\r\n\t\t\tsetErrorMsg('');\r\n\t\t}, 2000);\r\n\t}, [errorMsg]);\r\n\r\n\tconst handleChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\tconst allowAdminsRoles = getAllowAdminsRoles();\r\n\t\tif (!inputValue) {\r\n\t\t\treturn setErrorMsg('Please enter ID');\r\n\t\t}\r\n\r\n\t\tif (allowAdminsRoles.indexOf(inputValue) === -1) {\r\n\t\t\treturn setErrorMsg('Admin not found');\r\n\t\t}\r\n\r\n\t\tlocalStorage.adminRole = inputValue.trim();\r\n\r\n\t\thistory.push('/search');\r\n\t\tsetErrorMsg('');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<h2>Sign in</h2>\r\n\t\t\t\t<div className=\"login\">\r\n\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Admin ID\"\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={handleSubmit}\r\n\t\t\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\t\t\tfocus\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={classNames({ active: Boolean(inputValue) }, 'submit-btn')}\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{showNotification && <Notification message={errorMsg} type={NOTIFICATIONS_TYPE.ERROR} />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default memo(SignIn);\r\n","import { ADMINS } from './Constants';\r\n\r\nexport const getAllowAdminsRoles = () => {\r\n\treturn Object.entries(ADMINS).map(([k, v]) => v);\r\n}\r\n","import React, { memo, useState, useEffect } from 'react';\r\nimport { MIN_LENGTH_FOR_SEARCH, ADMINS } from '../../services/Constants';\r\nimport Input from '../../components/Input';\r\nimport Notification from '../../components/Notification';\r\nimport { NOTIFICATIONS_TYPE } from '../../services/Constants';\r\n\r\nconst Search = () => {\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [usePreviousSort, setUsePreviousSort] = useState(true);\r\n\tconst [showNotification, setShowNotification] = useState(true);\r\n\r\n\tconst fetchUsers = () => {\r\n\t\tfetch('http://www.mocky.io/v2/5d7f3d17330000204ef0b027?mocky-delay=500ms')\r\n\t\t\t.then((response) => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(({ users }) => {\r\n\t\t\t\tsetUsers(users);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetShowNotification(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShowNotification(false);\r\n\t\t}, 2000);\r\n\t\tfetchUsers();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (localStorage.sortBy && users.length && usePreviousSort) {\r\n\t\t\tsetUsers(handleSortUsers(localStorage.sortBy));\r\n\t\t\tsetUsePreviousSort(false);\r\n\t\t}\r\n\t}, [users]);\r\n\r\n\tconst handleChange = (value, type) => {\r\n\t\tif (type === 'radio') {\r\n\t\t\treturn setUsers(handleSortUsers(value));\r\n\t\t}\r\n\t\tif (!value) return fetchUsers();\r\n\t\tif (value.length <= MIN_LENGTH_FOR_SEARCH) return;\r\n\t\tconst filteredUsers = users.filter(\r\n\t\t\t(user) => user.lastname.toLowerCase().indexOf(value) !== -1\r\n\t\t);\r\n\t\tsetUsers(filteredUsers);\r\n\t};\r\n\r\n\tconst handleSortUsers = (value) => {\r\n\t\tlocalStorage.sortBy = value;\r\n\t\tconst copiedUsers = [...users];\r\n\t\treturn copiedUsers.sort((a, b) => {\r\n\t\t\tif (a[value] < b[value]) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (a[value] > b[value]) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t};\r\n\r\n\tconst renderUsers = () => {\r\n\t\treturn users.map((user, index) => (\r\n\t\t\t<div className=\"user-item\" key={index}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{index + 1}. {user.lastname},\r\n\t\t\t\t</span>\r\n\t\t\t\t{localStorage.adminRole === ADMINS.READONLY_ADMIN && (\r\n\t\t\t\t\t<span className=\"country-wrap\">Country: {user.country}</span>\r\n\t\t\t\t)}\r\n\t\t\t\t{localStorage.adminRole === ADMINS.CRUD_ADMIN && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<label for=\"country-wrap\" className=\"country-wrap\">\r\n\t\t\t\t\t\t\tCountry:\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<select id=\"country-wrap\" className=\"country-wrap\">\r\n\t\t\t\t\t\t\t<option selected={user.country === 'de'} value=\"de\">\r\n\t\t\t\t\t\t\t\tDe\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t<option selected={user.country === 'ru'} value=\"ru\">\r\n\t\t\t\t\t\t\t\tRu\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<Input placeholder=\"Search\" onChange={handleChange} focus />\r\n\t\t\t\t\t<div className=\"sort-wrap\">\r\n\t\t\t\t\t\t<span>Sort by</span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tid=\"lastname\"\r\n\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\tname=\"sort\"\r\n\t\t\t\t\t\t\t\tvalue=\"lastname\"\r\n\t\t\t\t\t\t\t\tchecked={localStorage.sortBy === 'lastname'}\r\n\t\t\t\t\t\t\t\tonChange={(value) => handleChange(value, 'radio')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label for=\"lastname\">Last name</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tid=\"country\"\r\n\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\tname=\"sort\"\r\n\t\t\t\t\t\t\t\tvalue=\"country\"\r\n\t\t\t\t\t\t\t\tchecked={localStorage.sortBy === 'country'}\r\n\t\t\t\t\t\t\t\tonChange={(value) => handleChange(value, 'radio')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label for=\"country\">Country</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{renderUsers()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{showNotification && (\r\n\t\t\t\t<Notification message='Success!' type={NOTIFICATIONS_TYPE.SUCCESS} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default memo(Search);\r\n","import React from 'react';\r\nimport {\r\n\tBrowserRouter,\r\n\tRoute,\r\n\tSwitch,\r\n} from 'react-router-dom';\r\nimport SignIn from './pages/signIn';\r\nimport Search from './pages/search';\r\n\r\nconst Router = () => {\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" render={() => <SignIn />} />\r\n\t\t\t\t<Route exact path=\"/search\" render={() => <Search />} />\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t);\r\n};\r\n\r\nexport default Router;\r\n","import Router from './Router';\n\nconst App = () => {\n  return (\n    <Router />\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}